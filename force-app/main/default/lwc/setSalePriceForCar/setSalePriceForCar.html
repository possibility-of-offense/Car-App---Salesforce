<template>
    <lightning-layout>
        <lightning-layout-item flexibility="auto" padding="around-medium">
            <c-spinner show-spinner={ajaxLoading}></c-spinner>
            <lightning-select
                name="cars"
                label="All cars"
                value={value}
                options={cars}
                onchange={handleChange}></lightning-select>

                <template lwc:if={pickedValue}>
                    <c-spinner show-spinner={ajaxLoading}></c-spinner>
                    <p class="error-text" lwc:if={error}>
                        {error}
                    </p>
                    <lightning-record-edit-form
                        object-api-name={objectApiName}
                        record-id={value}
                        onsubmit={handleChangeSalePrice}
                    >
                        <lightning-input 
                            type="number" 
                            label="Sale price" 
                            value={price} 
                            onchange={handleUpdatePrice}
                        ></lightning-input>
                        <p class="model-price">The regular price is: {modelPrice}$</p>
                        <br />
                        <lightning-button label="Add/change sale price" type="submit"></lightning-button>
                    </lightning-record-edit-form>
                </template>
        </lightning-layout-item>
    </lightning-layout>
</template>